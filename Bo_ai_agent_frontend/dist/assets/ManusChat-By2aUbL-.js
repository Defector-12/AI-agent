import{C as c,o as d}from"./sse-BO-sLDFv.js";import{d as i,e as r,c as m,a as p,b as v,o as f}from"./index-B1JUJUty.js";const C=i({__name:"ManusChat",setup(g){const a=r([]),l=r(!1);let e=null;const u=n=>{a.value.push({id:crypto.randomUUID(),role:"user",content:n}),l.value=!0,e&&(e.close(),e=null);const o=`/api/ai/manus/chat?message=${encodeURIComponent(n)}`;e=d(o,{onMessage:s=>{var t;((t=a.value[a.value.length-1])==null?void 0:t.role)==="ai"?a.value[a.value.length-1].content+=s:a.value.push({id:crypto.randomUUID(),role:"ai",content:s})},onError:()=>{l.value=!1,e==null||e.close(),e=null}}),setTimeout(()=>{l.value=!1},8e4)};return(n,o)=>(f(),m("div",null,[o[0]||(o[0]=p("h2",null,"AI 超级智能体",-1)),v(c,{messages:a.value,loading:l.value,placeholder:"让智能体来帮你完成复杂任务...",onSend:u},null,8,["messages","loading"])]))}});export{C as default};
